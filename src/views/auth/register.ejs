<% layout('layouts/main') -%>
<div class="row justify-content-center">
 <div class="col-md-6">
 <div class="card p-4">
 <h2 class="text-center mb-4 text-emerald-800">Register</h2>
 <form action="/auth/register" method="POST">
 <div class="mb-3">
 <label for="name" class="form-label">Name</label>
 <input type="text" class="form-control" id="name" name="name" required>
 </div>
 <div class="mb-3">
 <label for="email" class="form-label">Email</label>
 <input type="email" class="form-control" id="email" name="email" required>
 </div>
 <div class="mb-3">
 <label for="password" class="form-label">Password</label>
 <input type="password" class="form-control" id="password" name="password" required>
 </div>
 <div class="mb-3">
 <label for="role" class="form-label">Role</label>
 <select class="form-control" id="role" name="role" required>
 <option value="citizen">Citizen</option>
 <option value="officer">Officer</option>
 <option value="department_head">Department Head</option>
 <option value="admin">Admin</option>
 </select>
 </div>
 <div id="citizen-fields" style="display: none;">
 <div class="mb-3">
 <label for="national_id" class="form-label">National ID</label>
 <input type="text" class="form-control" id="national_id" name="national_id">
 </div>
 <div class="mb-3">
 <label for="date_of_birth" class="form-label">Date of Birth</label>
 <input type="date" class="form-control" id="date_of_birth" name="date_of_birth">
 </div>
 <div class="mb-3">
 <label for="contact_info" class="form-label">Contact Info</label>
 <input type="text" class="form-control" id="contact_info" name="contact_info">
 </div>
 </div>
 <div id="officer-fields" style="display: none;">
 <div class="mb-3">
 <label for="department_id" class="form-label">Department ID</label>
 <input type="number" class="form-control" id="department_id" name="department_id">
 </div>
 </div>
 <button type="submit" class="btn btn-primary w-100">Register</button>
 </form>
 <p class="mt-3 text-center">
 Already have an account? <a href="/auth/login" class="text-emerald-800">Login</a>
 </p>
 </div>
 </div>
</div>

<script>
 document.getElementById('role').addEventListener('change', function () {
 document.getElementById('citizen-fields').style.display = this.value === 'citizen' ? 'block' : 'none';
 document.getElementById('officer-fields').style.display = this.value === 'officer' || this.value === 'department_head' ? 'block' : 'none';
 });
</script>